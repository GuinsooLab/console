"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1379],{45902:function(e,n,t){var s=t(1413),o=(t(72791),t(53767)),i=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,r=e.value,l=void 0===r?"-":r,a=e.orientation,c=void 0===a?"column":a,u=e.stkProps,d=void 0===u?{}:u,x=e.lblProps,f=void 0===x?{}:x,m=e.valProps,v=void 0===m?{}:m;return(0,i.jsxs)(o.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,i.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:600}},f),{},{children:t})),(0,i.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:500}},v),{},{children:l}))]}))}},51379:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var s=t(1413),o=t(72791),i=t(60364),r=t(16871),l=t(11135),a=t(25787),c=t(23814),u=t(61889),d=t(81551),x=t(29439),f=t(27391),m=t(63466),v=t(74900),p=t(40603),j=t(3923),Z=t(92983),h=t(17238),y=t(80184),g=(0,a.Z)((function(e){return(0,l.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},c.oZ),c.OR),c.VX),(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.setPoolDetailsView,s=(0,d.TL)(),l=(0,r.s0)(),a=(0,i.v9)((function(e){return e.tenants.loadingTenant})),c=(0,i.v9)((function(e){return e.tenants.tenantInfo})),g=(0,o.useState)([]),b=(0,x.Z)(g,2),C=b[0],A=b[1],P=(0,o.useState)(""),N=(0,x.Z)(P,2),F=N[0],T=N[1];(0,o.useEffect)((function(){if(c){var e=c.pools?c.pools:[];A(e)}}),[c]);var k=C.filter((function(e){return!!e.name.toLowerCase().includes(F.toLowerCase())})),R=[{type:"view",onClick:function(e){s((0,h.Lm)(e.name)),t()}}];return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsxs)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,y.jsx)(f.Z,{placeholder:"Filter",className:n.searchField,id:"search-resource",label:"",onChange:function(e){T(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,y.jsx)(m.Z,{position:"start",children:(0,y.jsx)(v.Z,{})})},variant:"standard"}),(0,y.jsx)(p.Z,{tooltip:"Expand Tenant",text:"Expand Tenant",onClick:function(){l("/namespaces/".concat((null===c||void 0===c?void 0:c.namespace)||"","/tenants/").concat((null===c||void 0===c?void 0:c.name)||"","/add-pool"))},icon:(0,y.jsx)(j.dtP,{}),color:"primary",variant:"contained"})]}),(0,y.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,y.jsx)(Z.Z,{itemActions:R,columns:[{label:"Name",elementKey:"name"},{label:"Capacity",elementKey:"capacity"},{label:"# of Instances",elementKey:"servers"},{label:"# of Drives",elementKey:"volumes"}],isLoading:a,records:k,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})})),b=t(64554),C=t(45902),A=t(45248),P=t(45987),N=t(53767),F=["children"],T=function(e){var n=e.children,t=void 0===n?null:n,o=(0,P.Z)(e,F);return(0,y.jsx)(N.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},o),{},{children:t}))},k={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},R={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},w=function(){var e,n,t,l=(0,r.s0)(),a=(0,i.v9)((function(e){return e.tenants.tenantInfo})),c=(0,i.v9)((function(e){return e.tenants.selectedPool})),d=(null===a||void 0===a?void 0:a.pools.find((function(e){return e.name===c})))||null;if(null===d)return null;var x="None";d.affinity&&(x=d.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var f=function(e){var n=e.title;return(0,y.jsx)(T,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,y.jsx)("h3",{children:n})})};return(0,y.jsx)(o.Fragment,{children:(0,y.jsxs)(u.ZP,{item:!0,xs:12,sx:(0,s.Z)({},k),children:[(0,y.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,y.jsx)(p.Z,{icon:(0,y.jsx)(j.Jpd,{}),onClick:function(){l("/namespaces/".concat((null===a||void 0===a?void 0:a.namespace)||"","/tenants/").concat((null===a||void 0===a?void 0:a.name)||"","/edit-pool"))},text:"Edit Pool",id:"editPool"})}),(0,y.jsx)(f,{title:"Pool Configuration"}),(0,y.jsxs)(b.Z,{sx:(0,s.Z)({},R),children:[(0,y.jsx)(C.Z,{label:"Pool Name",value:d.name}),(0,y.jsx)(C.Z,{label:"Total Volumes",value:d.volumes}),(0,y.jsx)(C.Z,{label:"Volumes per server",value:d.volumes_per_server}),(0,y.jsx)(C.Z,{label:"Capacity",value:d.capacity})]}),(0,y.jsx)(f,{title:"Resources"}),(0,y.jsxs)(b.Z,{sx:(0,s.Z)({},R),children:[d.resources&&(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(C.Z,{label:"CPU",value:d.resources.requests.cpu}),(0,y.jsx)(C.Z,{label:"Memory",value:(0,A.l5)(d.resources.requests.memory)})]}),(0,y.jsx)(C.Z,{label:"Volume Size",value:(0,A.l5)(d.volume_configuration.size)}),(0,y.jsx)(C.Z,{label:"Storage Class Name",value:d.volume_configuration.storage_class_name})]}),d.securityContext&&(d.securityContext.runAsNonRoot||d.securityContext.runAsUser||d.securityContext.runAsGroup||d.securityContext.fsGroup)&&(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(f,{title:"Security Context"}),(0,y.jsxs)(b.Z,{children:[null!==d.securityContext.runAsNonRoot&&(0,y.jsx)(b.Z,{sx:(0,s.Z)({},R),children:(0,y.jsx)(C.Z,{label:"Run as Non Root",value:d.securityContext.runAsNonRoot?"Yes":"No"})}),(0,y.jsxs)(b.Z,{sx:(0,s.Z)((0,s.Z)({},R),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[d.securityContext.runAsUser&&(0,y.jsx)(C.Z,{label:"Run as User",value:d.securityContext.runAsUser}),d.securityContext.runAsGroup&&(0,y.jsx)(C.Z,{label:"Run as Group",value:d.securityContext.runAsGroup}),d.securityContext.fsGroup&&(0,y.jsx)(C.Z,{label:"FsGroup",value:d.securityContext.fsGroup})]})]})]}),(0,y.jsx)(f,{title:"Affinity"}),(0,y.jsxs)(b.Z,{children:[(0,y.jsxs)(b.Z,{sx:(0,s.Z)({},R),children:[(0,y.jsx)(C.Z,{label:"Type",value:x}),null!==(e=d.affinity)&&void 0!==e&&e.nodeAffinity&&null!==(n=d.affinity)&&void 0!==n&&n.podAntiAffinity?(0,y.jsx)(C.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,y.jsx)("span",{})]}),(null===(t=d.affinity)||void 0===t?void 0:t.nodeAffinity)&&(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(f,{title:"Labels"}),(0,y.jsx)("ul",{children:d.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.map((function(e){return e.matchExpressions.map((function(e){return(0,y.jsxs)("li",{children:[e.key," - ",e.values.join(", ")]})}))}))})]})]}),d.tolerations&&d.tolerations.length>0&&(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(f,{title:"Tolerations"}),(0,y.jsx)(b.Z,{children:(0,y.jsx)("ul",{children:d.tolerations.map((function(e){var n,t;return(0,y.jsx)("li",{children:"Equal"===e.operator?(0,y.jsxs)(o.Fragment,{children:["If ",(0,y.jsx)("strong",{children:e.key})," is equal to"," ",(0,y.jsx)("strong",{children:e.value})," then"," ",(0,y.jsx)("strong",{children:e.effect})," after"," ",(0,y.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,y.jsxs)(o.Fragment,{children:["If ",(0,y.jsx)("strong",{children:e.key})," exists then"," ",(0,y.jsx)("strong",{children:e.effect})," after"," ",(0,y.jsx)("strong",{children:(null===(t=e.tolerationSeconds)||void 0===t?void 0:t.seconds)||0})," ","seconds"]})})}))})})]})]})})},E=t(84669),S=(0,a.Z)((function(e){return(0,l.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},c.oZ),c.OR),c.VX),(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,d.TL)(),s=(0,r.TH)().pathname,l=void 0===s?"":s,a=(0,i.v9)((function(e){return e.tenants.selectedPool})),c=(0,i.v9)((function(e){return e.tenants.poolDetailsOpen}));return(0,y.jsxs)(o.Fragment,{children:[c&&(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(E.Z,{executeOnClick:function(){t((0,h.AH)(!1))},label:"Pools list",to:l})}),(0,y.jsx)("h1",{className:n.sectionTitle,children:c?"Pool Details - ".concat(a||""):"Pools"}),(0,y.jsx)(u.ZP,{container:!0,children:c?(0,y.jsx)(w,{}):(0,y.jsx)(g,{setPoolDetailsView:function(){t((0,h.AH)(!0))}})})]})}))}}]);
//# sourceMappingURL=1379.405ea3e4.chunk.js.map